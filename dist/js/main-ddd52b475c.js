!function t(e,n,i){function a(s,u){if(!n[s]){if(!e[s]){var r="function"==typeof require&&require;if(!u&&r)return r(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return a(n?n:t)},d,d.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,n){function i(e,n,i){var a,o=t("./template.js"),s=(t("../util/load.js")(),function(){}),u=function(t){var n=doT.template(o.listItem)(t),i=$(n);$(e).find(".js-users-list").append(i)},r=function(t,e){switch(e.type){case 102:u(e)}},d=function(t,i){a=n.getGlobal(),$(e).find("img.js-my-logo").attr("src",i.face),$(e).find(".js-customer-service").html(i.name)},l=function(){$(document.body).on("core.onload",d),$(document.body).on("core.receive",r)},c=function(){},f=function(){s(),l(),c()};f()}e.exports=i},{"../util/load.js":32,"./template.js":2}],2:[function(t,e,n){var i={};i.listItem='<li title="{{=it.uname}}" ><a href="javascript:;" class="user"  name="{{=it.uname}}" usource="0" data-uid="c8502966db3f40538794a4e9ab9a8c49"><i class="fa fa-laptop"><span class="newIcon"></span></i><span class="uname" style="width: 230px;">{{=it.uname}}</span><span class="lastMsg"><span style="color:#ffad01">sfsad</span></span><span class="badge badge-red msg-count"></span><i class="user-del"  style="display: none;"><span class="newIcon"></span></i><span class="ohide">{{=it.uname}}</span></a></li>',e.exports=i},{}],3:[function(t,e,n){function i(e){var n,i,a,o,s,u,r={},d="",l=t("./socket/json.js"),c=t("./socket/heartbeat.js"),f=t("../util/normatMessageAdapter.js"),p=t("./messagetype.json"),g=t("../util/promise.js"),h=e.Notification||e.webkitNotifications,m={},v=function(t,n){d=t.token||e.sessionStorage.getItem("temp-id"),n.resolve({success:!!t.token})},j=function(){var t=location.href,e=t.substring(t.lastIndexOf("?")+1);e.lastIndexOf("#")>=0&&(e=e.substring(0,e.lastIndexOf("#")));for(var n=e.split("&"),i={},a=0;a<n.length;a++){var o=n[a],s=o.substring(0,o.indexOf("=")),u=o.substring(o.indexOf("=")+1);/^-?(\d+)(\.\d+)?$/.test(u)?i[s]=Number(u):"true"===u?i[s]=!0:"false"===u?i[s]=!1:i[s]=u}return i},y=function(){o.start()},b=function(){g.when(function(){var t=new g;return $.ajax({url:"getEnvironment",data:{},dataType:"json"}).success(function(e){t.resolve({token:e.token})}).fail(function(e){t.reject({token:null})}),t}).then(v,v).then(function(t,i){$.ajax({url:"/chat/admin/connect.action",dataType:"json",type:"get",data:{uid:n.id,way:1,st:n.st||1,lt:n.lt||(new Date).getTime(),token:d}}).done(function(n){if(1==n.status||2==n.status){for(var a in n)m[a]=n[a];m.baseUrl=location.protocol+"//"+location.host+"/chat/"+(t.success?"":"admins/"),$(".js-loading-layer").hide(),i.resolve(n)}else alert("登录失败"),$(e).unbind("beforeunload"),e.close(),e.location.href="/
},I=function(){g(),T(),h(),B()};I()};e.exports=i},{"./template.js":21,"./toTopAnimate.js":22}],20:[function(t,e,n){var i=function(e,n,i){function a(){c(g.shadowNode,n,i),g.dialog.show()}var o,s,u,r,d=n.getGlobal(),l=t("../../util/load.js")(),c=t("./fastLayer.js"),f=t("../../util/modal/dialog.js"),p=t("../../util/promise.js"),g={},h=function(){o=$(e).find(".js-panel-body .js-tab-pane#messagesuser .js-shortcut"),s=$(e).find(".js-rightQuickLeft ul"),u=$(e).find(".js-rightQuickLRight ul"),r=$(".zc-shadow-layer .modal-dialog")},m=function(){var t=$(this).html();$(document.body).trigger("rightside.onSelectedByFastRelpy",[{data:t}])},v=function(){var t=$(this),e=$(u).find("li");$(e).removeClass("active");for(var n=0;n<e.length;n++)$(e[n]).attr("gid")==t.attr("gid")&&$(e[n]).addClass("active")},j=function(t){$(s).html(""),$(u).html(""),l.load(d.baseUrl+"views/rightside/fastreplyleft.html").then(function(e){var n=doT.template(e)({list:t});$(s).append(n)}),l.load(d.baseUrl+"views/rightside/fastreplyright.html").then(function(e){var n=doT.template(e)({list:t});$(u).append(n)})},y=function(){$.ajax({type:"post",cache:!1,data:{userId:i.id},url:"/chat/reply/replyGrouplist.action",dataType:"json",success:function(t){j(t)}})},b=function(t){var n=t||[];t||($(e).find(".js-rightQuickLeft ul").html(""),$(e).find(".js-rightQuickRight ul").html("")),l.load(d.baseUrl+"views/rightside/fastreplylayer.html").then(function(t){var e=doT.template(t)({list:n});g.dialog=new f({title:"快捷回复",footer:!1}),g.dialog.setInner(e),g.shadowNode=g.dialog.getOuter()})},x=function(){var t=new p,e="/chat/reply/replyGrouplist.action";return $.ajax({type:"post",cache:!1,data:{userId:i.id},url:e,dataType:"json",success:function(e){i.fastData=e,t.resolve(),b(e)}}).fail(function(e,n){"parsererror"===n&&(i.fastData=[],b(),t.resolve())}),t},w=function(){j(i.fastData)},F=function(){$(s).on("click","li",v),$(u).on("click","li",m),$(o).on("click",a),$(document.body).on("rightside.oReLoadRightGroup",y)},C=function(){h(),F(),w()};x().then(function(){C()})};e.exports=i},{"../../util/load.js":32,"../../util/modal/dialog.js":34,"../../util/promise.js":37,"./fastLayer.js":19}],21:[function(t,e,n){var i={},a='<li class="js-detalBar detalBar"><input utype="{{=it.utype}}" type="text" class="newInput" placeholder="请输入..." ><span class="{{=it.clsDelName}}">删除</span><span class="{{=it.clsUpName}}" >置顶</span></li>';i.zcReplyOuter=a,e.exports=i},{}],22:[function(t,e,n){function i(t,e,n){var i,a,o=t.find(".js-detalBar").length,s=e.index(),u=e.outerHeight(),r=300,d=function(){return 0!==e.index()},l=function(){a=t.find(".js-detalBar").eq(0),i=t.find(".js-detalBar").eq(s+1)},c=function(){a.animate({marginTop:u},r),e.animate({top:0},r,function(){e.insertBefore(a).find(".js-upLeftGroup").addClass("hide"),t.css({paddingBottom:0}),e.css({position:"",top:0}),i.css({marginTop:0}),a.css({marginTop:0}).find(".js-upLeftGroup").removeClass("hide"),n&&n()}),i.animate({marginTop:0},r)},f=function(){var n=e.position();e.css({position:"absolute",top:n.top}),i.css({marginTop:u}),s==o-1&&t.css({paddingBottom:u})},p=function(){if(!d())throw"the first node could not be top";l(),f(),c()};p()}e.exports=i},{}],23:[function(t,e,n){var i=!1,a=function(e,n,a){var o=n.getGlobal(),s=a,u={},r=[],d="",l=t("../../util/load.js")(),c=t("../../util/promise.js"),f=function(t,e){if(!t&&!e)return"-";var n=/^(https?)/;return t&&(t.match(n)||(t="http://"+t)),t&&!e?'<a target="_black" class="js-aChat aChat" style="font-size:14px;" href="'+t+'" title="'+t+'">'+t+"</a>":!t&&e?e:'<a target="_black" class="js-aChat aChat" style="font-size:14px;" href="'+t+'" title="'+e+'">'+e+"</a>"},p=function(){var t=new c;return s&&($(e).html("").parents(".js-panel-body").removeClass("showBg"),l.load(o.baseUrl+"views/rightside/profileUser.html").then(function(n){s.userData.visit=f(s.userData.visitUrl,s.userData.visitTitle),"string"==typeof s.userData.params&&(s.userData.params=$.parseJSON($("<div>"+s.userData.params+"</div>").html()));var i=doT.template(n)({item:s});$(e).html(i),$(e).find("#sex").val(s.userData.sex),t.resolve()})),t},g=function(t,e){var n=$(e).attr("data-uid"),i="/chat/admin/modify_userinfo.action",a={},o=$(e).attr("otype"),s={};a.uid=n,a.sender=u.url_id,o&&(a[o]=t),$.ajax({type:"post",url:i,data:a,dataType:"json",success:function(i){$(e).val(t),s.status=!0,s.uid=n,$(e).hasClass("userNameDyy")?s.name=t:s.name="",$(document.body).trigger("rightside.onProfileUserInfo",[{data:s}])}})},h=function(){var t=$(this);if(t){var e=t.val().trim().replace(/[ ]/g,""),n=r[t.attr("otype")],i=!0,a=!1;if(d==e)a=!1;else for(var o=0;o<n.length;o++){var s=n[o];if(!s.regex.test(e)){i=!1,t.addClass("warm"),t.val(d);var u=t.siblings(".js-tip");u.find(".js-alerticon").text(s.alert);var l=t.offset().top-68,c=63;u.css({left:c+"px",top:l+"px"}).addClass("show").on("click",function(){$(this).removeClass("show"),t.removeClass("warm")});break}}i&&(t.siblings(".js-tip").removeClass("show").find(".js-alerticon").text(""),t.removeClass("warm"),a=!0),a&&g(e,t)}},m=function(){d=$(this).val()},v=function(){var t=$(this).find("option:selected").val();g(t,$(this)[0])},j=function(){var t=$(".aChat");if(t.length>0){var e=$(".js-chatWarp").width(),n=$(".js-aChat").text($(".js-aChat").text())[0].offsetWidth;n>=e?$(".js-chatWarpi").addClass("show"):$(".js-chatWarpi").removeClass("show")}},y=function(){$(e).find("#dp").datepicker().on("changeDate",function(t){var e,n,i,a=t.date;e=a.getFullYear(),n=a.getMonth()+1<10?"0"+(Number(a.getMonth())+1):a.getMonth()+1,i=a.getDate()<10?"0"+a.getDate():a.getDate();var o=e+"-"+n+"-"+i;g(o,$(this)[0])})},b=function(){i||($(e).delegate(".js-userTnp","blur",h),$(e).delegate(".js-userTnp","focus",m),$(e).delegate("#sex","change",v),i=!0)},x=function(){j(),y()},w=function(){u.uid=s.data.uid,u.url_id=o.id,r={uname:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[^<>\/\/]*$/,alert:"格式错误，请重新输入"},{regex:/\w{0,100}/,alert:"最大输入100字符，请重新输入"}],realname:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[^<>\/\/]*$/,alert:"格式错误，请重新输入"},{regex:/\w{0,32}/,alert:"最大输入32字符，请重新输入"}],tel:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[0-9\-#*]*$/,alert:"只允许数字、“#”、“*”、“-”"},{regex:/^[0-9\-#*]{8,30}$/,alert:"最大输入30字符，请重新输入"}],birthday:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[1-2][0-9]{3}\-(([0-2]{1}[0-9]{1})|(3[0-1]{1}))(\-([0-2]{1}[0-9]{1})|(3[0-1]{1}))$/,alert:"只允许数字、“-”"}],email:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[a-zA-Z0-9]+([-_\.][a-zA-Z0-9]+)*(?:@(?!-))(?:(?:[a-zA-Z0-9]*)(?:[a-zA-Z0-9](?!-))(?:\.(?!-)))+[a-zA-Z]{2,}$/,alert:"只允许字母、数字或下划线"},{regex:/^[a-zA-Z0-9]+([-_\.][a-zA-Z0-9]+)*(?:@(?!-))(?:(?:[a-zA-Z0-9]*)(?:[a-zA-Z0-9](?!-))(?:\.(?!-)))+[a-zA-Z]{2,60}$/,alert:"最大输入限制60字符，请重新输入"}],qq:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[^<>\/\/]*$/,alert:"格式错误，请重新输入"},{regex:/[1-9][0-9]{4,29}/,alert:"输入5-30位数字，请重新输入"}],weixin:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[^<>\/\/]*$/,alert:"格式错误，请重新输入"}],weibo:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[^<>\/\/]*$/,alert:"格式错误，请重新输入"},{regex:/\w{4,24}/,alert:"输入4-24位字符，请重新输入"}],remark:[{regex:/\S/,alert:"格式错误，不允许为空"},{regex:/^[^<>\/\/]*$/,alert:"格式错误，请重新输入"},{regex:/\w{0,200}/,alert:"最大输入限制200字符，请重新输入"}]}};p().then(function(){F()});var F=function(){w(),b(),x()}};e.exports=a},{"../../util/load.js":32,"../../util/promise.js":37}],24:[function(t,e,n){function i(e,n,i){var a,o,s=t("../util/load.js")(),u=t("../util/modal/dialog.js"),r=t("../util/modal/alert.js"),d=t("../util/qqFace.js"),l={},c="http://img.sobot.com/chat/adminres/common/face/",f={http:{chatList:{chat:"/chat/admin/get_chatdetail.action",hchat:"/chat/admin/get_chatdetail.action"},status:{black:{add:"/chat/admin/add_blacklist.action",del:"/chat/admin/delete_blacklist.action"},star:{add:"/chat/admin/add_marklist.action",del:"/chat/admin/delete_marklist.action"}},getOtherAdmin:"/chat/admin/getOhterAdminList.action",userTransfer:"/chat/admin/transfer.action",searchChat:"/chat/admin/internalChat1.action"},tpl:{chatList:"views/scrollcontent/list.html",chatItem:"views/scrollcontent/item.html",chatItemByAdmin:"views/scrollcontent/itemByAdmin.html",adminTable:"views/scrollcontent/adminTable.html",userReadySend:"views/scrollcontent/userReadySend.html"}},p=[c+"pcType.png",c+"weixinType.png",c+"appType.png",c+"weiboType.png",c+"moType.png",c+"moType.png"],g={},h=function(t){$body.trigger("scrollcontent.onSearchUserChat",[{uid:g.userId,str:t}])},m=function(t,e){$body.trigger("scrollcontent.onUpdateUserState",[{type:t,handleType:e,userId:g.userId}])},v=function(t,e){F(),$body.trigger("scrollcontent.onTransfer",[{uid:t,userName:e}])},j=function(t,e,n,i,a,o,s,u,r){var c;"function"==typeof arguments[0]&&(e=arguments[0],t="chat"),c=$.isArray(a)?a[0].uid:a.uid,l[c]?n?$.ajax({url:f.http.chatList[t],dataType:"json",type:"get",data:{t:l[c].date||Date.parse(new Date),uid:c,pid:a.pid,pageNow:n||1,pageSize:i||20}}).success(function(e){var n=[],i=[];e.data.length>0&&(e.data.map(function(t){n.push({action:"dateline",date:t.date}),t.content.map(function(t){t.msg=t.msg?d.analysis(t.msg):null,n.push(t)})}),i=n.concat(l[c].list),l[c].list=i,e.data[0]&&e.data[0].content[0]&&(l[c].date=e.data[0].content[0].t),o&&k(t,l[c],s,!0,u,n))}):o&&k(t,l[c],s,!1,u,r):(l[c]={},$.ajax({url:f.http.chatList[t],dataType:"json",type:"get",data:{t:l[c].date||Date.parse(new Date),uid:c,pid:a.pid,pageNow:n||1,pageSize:i||20}}).success(function(n){n.data[0]&&n.data[0].content[0]&&(l[c].date=n.data[0].content[0].t),e&&e(t,n,c,s)}))},y=function(t,e,n){var i=function(){$.ajax({url:f.http.status[t][e],dataType:"json",type:"get",data:{sender:g.sender,receiver:g.userId}}).success(function(i){n&&n(t,e)})};if("star"===t&&"add"===e)i();else{var a=new r({title:"提示",text:"请确定是否要改变状态？",OK:function(){i(),a.hide()}});a.show()}},b=function(t,e){$.ajax({url:f.http.getOtherAdmin,dataType:"json",type:"get",data:{uid:t}}).success(function(t){var n=new u({title:"转接给新的客服",footer:!1});n.show(),s.load(o.baseUrl+f.tpl.adminTable).then(function(i){var a;a=doT.template(i)({list:t}),n.setInner(a),e&&e(n)})})},x=function(t){$(t.getOuter()).find(".js-transfer-href").on("click",function(){var e=$(this).attr("uid"),n=$(this).attr("uname");$.ajax({url:f.http.userTransfer,dataType:"json",type:"get",data:{uid:g.sender,cid:g.cid,joinUid:e,userId:g.userId,userName:n}}).success(function(i){1===i.status&&t.hide(),v(e,n)})})},w=function(){a.on("click",".formUser",function(){var t=$(this).html();-1!==t.indexOf("webchat_img_upload")?i.open():h(t)})},F=function(t){a.find("#chat").hide(),l[g.userId|t]=void 0,a.find(".js-addButton").children(".js-goOut").addClass("hide"),a.find("#chat").find(".js-panel-body").empty()},C=function(t,e,n,i){s.load(o.baseUrl+f.tpl.chatList).then(function(o){var s,u=[];e.data.map(function(t){u.push({action:"dateline",date:t.date}),t.content.map(function(t){t.msg=t.msg?d.analysis(t.msg):null,u.push(t)})}),l[n]={list:u,scrollTop:0,pageNo:1},s=doT.template(o)({userSourceImage:g.userSourceImage,list:u}),a.find("#"+t).find(".js-panel-body").empty().html(s),setTimeout(function(){i&&(a.find("#"+t).find(".js-panel-body")[0].scrollIntoView(!1),l[n].scrollBottom=a.find("#"+t).find(".js-panel-body").parent().scrollTop())},400)})},k=function(t,e,n,i,u,r){r?(r.map(function(t){t.msg=t.msg?d.analysis(t.msg):null}),s.load(o.baseUrl+f.tpl.chatItem).then(function(e){var o,s=a.find("#"+t).find(".js-panel-body").parent()[0].scrollHeight,d=a.find("#"+t).find(".js-panel-body").parent().scrollTop();o=doT.template(e)({userSourceImage:g.userSourceImage,list:r}),i?(a.find("#"+t).find(".js-panel-body").prepend(o),a.find("#"+t).find(".js-panel-body").parent().scrollTop(10)):(a.find("#"+t).find(".js-panel-body").append(o),n?(a.find("#"+t).find(".js-panel-body")[0].scrollIntoView(!1),l[g.userId].scrollBottom=a.find("#"+t).find(".js-panel-body").parent().scrollTop()):s-d>700?103===u&&a.find("#"+t).find(".zc-newchat-tag").show():(a.find("#"+t).find(".js-panel-body")[0].scrollIntoView(!1),l[g.userId].scrollBottom=a.find("#"+t).find(".js-panel-body").parent().scrollTop()))})):s.load(o.baseUrl+f.tpl.chatList).then(function(i){var o;o=doT.template(i)({userSourceImage:g.userSourceImage,list:e.list}),a.find("#"+t).find(".js-panel-body").empty().html(o),setTimeout(function(){n&&(a.find("#"+t).find(".js-panel-body")[0].scrollIntoView(!1),l[g.userId].scrollBottom=a.find("#"+t).find(".js-panel-body").parent().scrollTop())},400)})},T=function(t,e){a.find(".js-addButton").children('[data-type="'+t+'"]').removeClass("hide"),a.find(".js-addButton").children(".js-"+t+"-"+e).addClass("hide"),"black"===t&&"add"===e&&F(),_({type:t,handleType:e}),m(t,e)},B=function(t){a.find(".js-addButton").children("a").addClass("hide");for(var e in t)"transfer"===e?t[e]&&a.find(".js-addButton").children(".js-transfer").removeClass("hide"):a.find(".js-addButton").children(".js-"+e+"-"+(t[e]?"del":"add")).removeClass("hide");a.find(".js-addButton").children(".js-transfer").removeClass("hide")},I={102:function(t){t.userHeadImage=p[t.source],t.t=new Date(t.t).toLocaleString().split(" ")[1]},103:function(t){t.userHeadImage=p[t.source],t.ts=t.ts.split(" ")[1]},108:function(t){t.t=new Date(t.t).toLocaleString().split(" ")[1]},111:function(t){}},q=function(t){if(I[t.type]&&I[t.type](t),111===t[0].type)s.load(o.baseUrl+f.tpl.userReadySend).then(function(e){var n;n=doT.template(e)({data:t[0]}),a.find("#chat").find(".js-user-ready-input").show(),a.find("#chat").find(".js-user-ready-input").empty().append(n),setTimeout(function(){a.find("#chat").find(".js-user-ready-input").hide()},5e3)});else if(108===t[0].type)F();else{var e=[];if(l[t[0].uid]){for(var n=0;n<t.length;n++)103===t[n].type&&(l[t[0].uid].list.push({action:5,senderType:0,senderName:t[n].uname,msg:t[n].content,ts:t[n].ts}),e.push({action:5,senderType:0,senderName:t[n].uname,msg:t[n].content,ts:t[n].ts}));var i=g.userId===t[0].uid;j("chat",k,null,null,t,i,!1,t[0].type,e)}}},_=function(t){var e={star:{add:{action:16},del:{action:17}},black:{add:{},del:{action:12}}},n=e[t.type][t.handleType],i=[];n.ts="date "+(new Date).toTimeString().split(" ")[0],n.senderName=o.name;var t={uid:g.userId,pid:g.pid};l[g.userId]=l[g.userId]||{list:[],scrollTop:0,pageNo:1},i.push(n),l[g.userId].list.push(n),j("chat",k,null,null,t,!0,!0,null,i)},S=function(t){var e=[];l[t.uid]=l[t.uid]||{list:[],scrollTop:0,pageNo:1},l[t.uid].list.push({action:5,senderType:2,senderName:o.name,msg:t.answer,ts:"date "+(new Date).toTimeString().split(" ")[0]}),e.push({action:5,senderType:2,senderName:o.name,msg:t.answer,ts:"date "+(new Date).toTimeString().split(" ")[0]});var n=g.userId===t.uid;j("chat",k,null,null,t,n,!0,null,e)},z=function(){a=$(e),$body=$(document.body)},O=function(t,e){q(e)},D=function(t,e){o=n.getGlobal()},A=function(){$body.on("core.onload",D),$body.on("core.receive",O),$body.on("textarea.send",function(t){S(arguments[1])}),$body.on("leftside.onselected",function(){var t=arguments[1],e=a.find("#chat");g={isStar:!!t.userData.ismark,isBlack:!!t.userData.isblack,isTransfer:!!t.userData.chatType,cid:t.data.cid,uid:o.id,pid:t.data.pid,sender:o.id,userId:t.data.uid,userSourceImage:p[t.data.usource|t.data.source]},e.show(),e.find(".zc-newchat-tag , .js-user-ready-input").hide(),$(i).resize(),j("chat",C,null,null,{uid:t.data.uid,pid:t.data.pid},!0,!0),B({star:!!t.userData.ismark,black:!!t.userData.isblack,transfer:!!t.userData.chatType})}),$body.on("leftside.onremove",function(){F(arguments[1].uid)}),$body.on("rightside.onChatSmartReply",function(){var t={answer:arguments[1].data.msg,uid:g.userId,pid:g.pid};"1"===arguments[1].data.status&&S(t)}),a.find(".js-addButton").on("click",".js-goOut",function(t){var e=$(this),n=e.attr("data-type"),i=e.attr("data-handle");n||i?y(n,i,T):b(g.sender,x)}),a.find("#chat").find(".scrollBoxParent").scroll(function(t){var e={uid:g.userId,pid:g.pid};$(this).scrollTop()>=l[g.userId].scrollBottom?a.find("#chat").find(".zc-newchat-tag").hide():0===$(this).scrollTop()&&(l[g.userId].pageNo++,j("chat",C,l[g.userId].pageNo,null,e,!0,!1))}),a.find("#chat").on("click",".zc-newchat-tag",function(){a.find("#chat").find(".js-panel-body")[0].scrollIntoView(!1),l[g.userId].scrollBottom=a.find("#chat").find(".js-panel-body").parent().scrollTop(),a.find("#chat").find(".zc-newchat-tag").hide()}),w()},N=function(){},R=function(){z(),A(),N()};R()}e.exports=i},{"../util/load.js":32,"../util/modal/alert.js":33,"../util/modal/dialog.js":34,"../util/qqFace.js":38}],25:[function(t,e,n){function i(e,n,i){var a,o,s,u,r,d=(t("../util/load.js")(),t("../util/qqFace.js")),l=t("./uploadImg.js"),c=function(){o=$(e),s=o.find(".js-upload"),$sendMessage=o.find(".js-sendMessage"),$botTextBox=o.find(".js-botTextBox")},f=function(t){var e=doT.template(template.listItem)(t),n=$(e);o.find(".js-users-list").append(n)},p=function(t,e){switch(e.type){case 102:f(e)}},g=function(t,e){r=e.data.uid,u=e.data.cid,"online"==e.data.from?($botTextBox.show(),w()):"history"==e.data.from&&($botTextBox.hide(),w())},h=function(t,e){$(document.body).trigger("textarea.send",[{answer:'<img class="webchat_img_upload upNowImg" src="'+e.url+'" />',uid:r,cid:u,date:+new Date}])},m=function(t){var e=$sendMessage.val();return 0==e.length||/^\s+$/g.test(e)?($sendMessage.val(""),!1):($(document.body).trigger("textarea.send",[{answer:e,uid:r,cid:u,date:+new Date}]),void $sendMessage.val(""))},v=function(t,e){"2"==e.data.status&&$sendMessage.val(e.data.msg).focus()},j=function(t,e){$sendMessage.val(e.data).focus()},y=function(t){$sendMessage.val();return 13==t.keyCode?(m(),!1):void 0},b=function(t,e){o.find("img.js-my-logo").attr("src",e.face),o.find(".js-customer-service").html(e.name)},x=function(){a.onChangeHandler(r,u)},w=function(){var t=$botTextBox.height(),e=1;switch("block"==o.find(".js-botTextBox").css("display")&&(e=2),e){case 1:$(".scrollBoxParent").height($(i).height()-102+"px");break;case 2:$(".scrollBoxParent").height($(i).height()-(102+t)+"px")}$botTextBox.css("bottom","-232px")},F=function(){$botTextBox.hide()},C=function(){$(document.body).on("core.onload",b),$(document.body).on("core.receive",p),$(document.body).on("leftside.onselected",g),$(document.body).on("textarea.uploadImgUrl",h),$(document.body).on("rightside.onSelectedByFastRelpy",j),$(document.body).on("rightside.onChatSmartReply",v),$(i||document.body).on("resize",w),o.find(".js-btnSend").on("click",m),$sendMessage.on("keydown",y),o.find(".js-emotion").on("click",T),o.find(".icoLi").on("click",B),o.find(".js-upload").on("change",x)},k=function(){d.initConfig({saytext:".js-sendMessage",Group:"#faceGroupTarea",faceGroup:"#faceGroup",emojiGroup:"#emojiGroup",emotion:".js-emotion",path:"assets/images/qqarclist/",emojiPath:"assets/images/emoji/"},function(){})},T=function(){d.show(),d.emojiShow()},B=function(){$(this).addClass("active").siblings().removeClass("active"),o.find(".groupChildren").hide();var t=$(this).attr("data-src");$(t).show()},I=function(){a=l(s,e,n,i),k(),o.find(".item").perfectScrollbar(),F(),w()},q=function(){c(),C(),I()};q()}e.exports=i},{"../util/load.js":32,"../util/qqFace.js":38,"./uploadImg.js":26}],26:[function(t,e,n){function i(e,n,i,a){var o={},s=(t("../util/upload.js"),t("../util/modal/alert.js")),u=function(){$node=$(n),$uploadBtn=$node.find(".js-upload")},r=function(t,e){d(t,e)},d=function(t,e){if(FormData){for(var n=new FormData,i=$uploadBtn[0],a=0;a<i.files.length;a++){var o=i.files[a];n.append(o.name,o)}$.ajax({url:"/chat/webchat/fileupload.action",type:"POST",data:n,processData:!1,contentType:!1}).success(function(n){var i=n.url;$(document.body).trigger("textarea.uploadImgUrl",[{uid:t,cid:e,url:i}])}).fail(function(t){.emojiTip=["u1F60A","u1F60B","u1F60C","u1F60D","u1F60E","u1F60F","u1F61A","u1F61C","u1F61D","u1F61E","u1F61F","u1F62A","u1F62B","u1F62C","u1F62D","u1F62E","u1F600","u1F601","u1F602","u1F603","u1F605","u1F606","u1F607","u1F608","u1F609","u1F611","u1F612","u1F613","u1F614","u1F615","u1F616","u1F618","u1F621","u1F622","u1F623","u1F624","u1F628","u1F629","u1F630","u1F631","u1F632","u1F633","u1F634","u1F635","u1F636","u1F637","u1F648","u1F649","u1F680","u2B50","u23F0","u23F3","u26A1","u26BD","u26C4","u26C5","u261D","u263A","u270A","u270B","u270C","u270F","u2600","u2601","u2614","u2615","u2744","u1F3A4","u1F3B2","u1F3B5","u1F3C0","u1F3C2","u1F3E1","u1F004","u1F4A1","u1F4A2","u1F4A3","u1F4A4","u1F4A9","u1F4AA","u1F4B0","u1F4DA","u1F4DE","u1F4E2","u1F6AB","u1F6BF","u1F30F","u1F33B","u1F35A","u1F36B","u1F37B","u1F44C","u1F44D","u1F44E","u1F44F","u1F46A","u1F46B","u1F47B","u1F47C","u1F47D","u1F47F","u1F48A","u1F48B","u1F48D","u1F52B","u1F64A","u1F64F","u1F319","u1F332","u1F339","u1F349","u1F356","u1F366","u1F377","u1F381","u1F382","u1F384","u1F389","u1F393","u1F434","u1F436","u1F437","u1F451","u1F484","u1F494","u1F525","u1F556"],i.emojiSymbolTip=["😊","😋","😌","😍","😎","😏","😚","😜","😝","😞","😟","😪","😫","😬","😭","😮","😀","😁","😂","😃","😅","😆","😇","😈","😉","😑","😒","😓","😔","😕","😖","😘","😡","😢","😣","😤","😨","😩","😰","😱","😲","😳","😴","😵","😶","😷","🙈","🙉","🚀","⭐","⏰","⏳","⚡","⚽","⛄","⛅","☝","☺","✊","✋","✌","✏","☀","☁","☔","☕","❄","🎤","🎲","🎵","🏀","🏂","🏡","🀄","💡","💢","💣","💤","💩","💪","💰","📚","📞","📢","🚫","🚿","🌏","🌻","🍚","🍫","🍻","👌","👍","👎","👏","👪","👫","👻","👼","👽","👿","💊","💋","💍","🔫","🙊","🙏","🌙","🌲","🌹","🍉","🍖","🍦","🍷","🎁","🎂","🎄","🎉","🎓","🐴","🐶","🐷","👑","💄","💔","🔥","🕖"],i.emojiReg=/(😊|😋|😌|😍|😎|😏|😚|😜|😝|😞|😟|😪|😫|😬|😭|😮|😀|😁|😂|😃|😅|😆|😇|😈|😉|😑|😒|😓|😔|😕|😖|😘|😡|😢|😣|😤|😨|😩|😰|😱|😲|😳|😴|😵|😶|😷|🙈|🙉|🚀|⭐|⏰|⏳|⚡|⚽|⛄|⛅|☝|☺|✊|✋|✌|✏|☀|☁|☔|☕|❄|🎤|🎲|🎵|🏀|🏂|🏡|🀄|💡|💢|💣|💤|💩|💪|💰|📚|📞|📢|🚫|🚿|🌏|🌻|🍚|🍫|🍻|���|👌|👍|👎|👏|👪|👫|👻|👼|👽|👿|💊|💋|💍|🔫|🙊|🙏|🌙|🌲|🌹|🍉|🍖|🍦|🍷|🎁|🎂|🎄|🎉|🎓|🐴|🐶|🐷|👑|💄|💔|🔥|🕖||||||||||||||||||||)/g,i.emojiReg2=/(😊|😋|😌|😍|😎|😏|😚|😜|😝|😞|😟|😪|😫|😬|😭|😮|😀|😁|😂|😃|😅|😆|😇|😈|😉|😑|😒|😓|😔|😕|😖|😘|😡|😢|😣|😤|😨|😩|😰|😱|😲|😳|😴|😵|😶|😷|🙈|🙉|🚀|⭐|⏰|⏳|⚡|⚽|⛄|⛅|☝|☺|✊|✋|✌|✏|☀|☁|☔|☕|❄|🎤|🎲|🎵|🏀|🏂|🏡|🀄|💡|💢|💣|💤|💩|💪|💰|📚|📞|📢|🚫|🚿|🌏|🌻|🍚|🍫|🍻|���|👌|👍|👎|👏|👪|👫|👻|👼|👽|👿|💊|💋|💍|🔫|🙊|🙏|🌙|🌲|🌹|🍉|🍖|🍦|🍷|🎁|🎂|🎄|🎉|🎓|🐴|🐶|🐷|👑|💄|💔|🔥|🕖||||||||||||||||||||)/,i.qqfaceReg=/\/::\)|\/::~|\/::B|\/::\||\/:8-\)|\/::<|\/::\$|\/::X|\/::Z|\/::'\(|\/::-\||\/::@|\/::P|\/::D|\/::O|\/::\(|\/::\+|\/:–b|\/::Q|\/::T|\/:,@P|\/:,@-D|\/::d|\/:,@o|\/::g|\/:\|-\)|\/::!|\/::L|\/::>|\/::,@|\/:,@f|\/::-S|\/:\?|\/:,@x|\/:,@@|\/::8|\/:,@!|\/:!!!|\/:xx|\/:bye|\/:wipe|\/:dig|\/:handclap|\/:&-\(|\/:B-\)|\/:<@|\/:@>|\/::-O|\/:>-\||\/:P-\(|\/::'\||\/:X-\)|\/::\*|\/:@x|\/:8\*|\/:pd|\/:<W>|\/:beer|\/:basketb|\/:oo|\/:coffee|\/:eat|\/:pig|\/:rose|\/:fade|\/:showlove|\/:heart|\/:break|\/:cake|\/:li|\/:bome|\/:kn|\/:footb|\/:ladybug|\/:shit|\/:moon|\/:sun|\/:gift|\/:hug|\/:strong|\/:weak|\/:share|\/:v|\/:@\)|\/:jj|\/:@@|\/:bad|\/:lvu|\/:no|\/:ok|\/:love|\/:<L>|\/:jump|\/:shake|\/:<O>|\/:circle|\/:kotow|\/:turn|\/:skip|\/:oY|\/:#-0|\/:hiphot|\/:kiss|\/:<&|\/:&>|\/微笑|\/撇嘴|\/色|\/发呆|\/得意|\/流泪|\/害羞|\/闭嘴|\/睡|\/大哭|\/尴尬|\/发怒|\/调皮|\/呲牙|\/惊讶|\/难过|\/酷|\/冷汗|\/衰|\/骷髅|\/敲打|\/再见|\/擦汗|\/抠鼻|\/鼓掌|\/糗大了|\/坏笑|\/左哼哼|\/右哼哼|\/哈欠|\/鄙视|\/委屈|\/快哭了|\/阴险|\/亲亲|\/吓|\/可怜|\/抓狂|\/吐|\/偷笑|\/愉快|\/白眼|\/傲慢|\/饥饿|\/困|\/惊恐|\/流汗|\/憨笑|\/悠闲|\/奋斗|\/咒骂|\/疑问|\/嘘|\/晕|\/疯了|\/篮球|\/乒乓|\/咖啡|\/饭|\/猪头|\/玫瑰|\/调谢|\/嘴唇|\/爱心|\/心碎|\/蛋糕|\/闪电|\/炸弹|\/刀|\/足球|\/瓢虫|\/便便|\/月亮|\/太阳|\/礼物|\/拥抱|\/菜刀|\/西瓜|\/啤酒|\/弱|\/握手|\/胜利|\/抱拳|\/勾引|\/拳头|\/差劲|\/爱你|\/NO|NO|\/OK|OK|\/爱情|\/飞吻|\/跳跳|\/强|\/发抖|\/怄火|\/转圈|\/磕头|\/回头|\/跳绳|\/投降|\/激动|\/乱舞|\/献吻|\/左太极|\/右太极|\[微笑\]|\[撇嘴\]|\[色\]|\[发呆\]|\[得意\]|\[流泪\]|\[害羞\]|\[闭嘴\]|\[睡\]|\[大哭\]|\[尴尬\]|\[发怒\]|\[调皮\]|\[呲牙\]|\[惊讶\]|\[难过\]|\[酷\]|\[冷汗\]|\[衰\]|\[骷髅\]|\[敲打\]|\[再见\]|\[擦汗\]|\[抠鼻\]|\[鼓掌\]|\[糗大了\]|\[坏笑\]|\[左哼哼\]|\[右哼哼\]|\[哈欠\]|\[鄙视\]|\[委屈\]|\[快哭了\]|\[阴险\]|\[亲亲\]|\[吓\]|\[可怜\]|\[抓狂\]|\[吐\]|\[偷笑\]|\[愉快\]|\[白眼\]|\[傲慢\]|\[饥饿\]|\[困\]|\[惊恐\]|\[流汗\]|\[憨笑\]|\[悠闲\]|\[奋斗\]|\[咒骂\]|\[疑问\]|\[嘘\]|\[晕\]|\[疯了\]|\[篮球\]|\[乒乓\]|\[咖啡\]|\[饭\]|\[猪头\]|\[玫瑰\]|\[调谢\]|\[嘴唇\]|\[爱心\]|\[心碎\]|\[蛋糕\]|\[闪电\]|\[炸弹\]|\[刀\]|\[足球\]|\[瓢虫\]|\[便便\]|\[月亮\]|\[太阳\]|\[礼物\]|\[拥抱\]|\[菜刀\]|\[西瓜\]|\[啤酒\]|\[弱\]|\[握手\]|\[胜利\]|\[抱拳\]|\[勾引\]|\[拳头\]|\[差劲\]|\[爱你\]|\[NO|NO\]|\[OK|OK\]|\[爱情\]|\[飞吻\]|\[跳跳\]|\[强\]|\[发抖\]|\[怄火\]|\[转圈\]|\[磕头\]|\[回头\]|\[跳绳\]|\[投降\]|\[激动\]|\[乱舞\]|\[献吻\]|\[左太极\]|\[右太极\]/g,i.qqfaceReg2=/\/::\)|\/::~|\/::B|\/::\||\/:8-\)|\/::<|\/::\$|\/::X|\/::Z|\/::'\(|\/::-\||\/::@|\/::P|\/::D|\/::O|\/::\(|\/::\+|\/:–b|\/::Q|\/::T|\/:,@P|\/:,@-D|\/::d|\/:,@o|\/::g|\/:\|-\)|\/::!|\/::L|\/::>|\/::,@|\/:,@f|\/::-S|\/:\?|\/:,@x|\/:,@@|\/::8|\/:,@!|\/:!!!|\/:xx|\/:bye|\/:wipe|\/:dig|\/:handclap|\/:&-\(|\/:B-\)|\/:<@|\/:@>|\/::-O|\/:>-\||\/:P-\(|\/::'\||\/:X-\)|\/::\*|\/:@x|\/:8\*|\/:pd|\/:<W>|\/:beer|\/:basketb|\/:oo|\/:coffee|\/:eat|\/:pig|\/:rose|\/:fade|\/:showlove|\/:heart|\/:break|\/:cake|\/:li|\/:bome|\/:kn|\/:footb|\/:ladybug|\/:shit|\/:moon|\/:sun|\/:gift|\/:hug|\/:strong|\/:weak|\/:share|\/:v|\/:@\)|\/:jj|\/:@@|\/:bad|\/:lvu|\/:no|\/:ok|\/:love|\/:<L>|\/:jump|\/:shake|\/:<O>|\/:circle|\/:kotow|\/:turn|\/:skip|\/:oY|\/:#-0|\/:hiphot|\/:kiss|\/:<&|\/:&>|\/微笑|\/撇嘴|\/色|\/发呆|\/得意|\/流泪|\/害羞|\/闭嘴|\/睡|\/大哭|\/尴尬|\/发怒|\/调皮|\/呲牙|\/惊讶|\/难过|\/酷|\/冷汗|\/衰|\/骷髅|\/敲打|\/再见|\/擦汗|\/抠鼻|\/鼓掌|\/糗大了|\/坏笑|\/左哼哼|\/右哼哼|\/哈欠|\/鄙视|\/委屈|\/快哭了|\/阴险|\/亲亲|\/吓|\/可怜|\/抓狂|\/吐|\/偷笑|\/愉快|\/白眼|\/傲慢|\/饥饿|\/困|\/惊恐|\/流汗|\/憨笑|\/悠闲|\/奋斗|\/咒骂|\/疑问|\/嘘|\/晕|\/疯了|\/篮球|\/乒乓|\/咖啡|\/饭|\/猪头|\/玫瑰|\/调谢|\/嘴唇|\/爱心|\/心碎|\/蛋糕|\/闪电|\/炸弹|\/刀|\/足球|\/瓢虫|\/便便|\/月亮|\/太阳|\/礼物|\/拥抱|\/菜刀|\/西瓜|\/啤酒|\/弱|\/握手|\/胜利|\/抱拳|\/勾引|\/拳头|\/差劲|\/爱你|\/NO|NO|\/OK|OK|\/爱情|\/飞吻|\/跳跳|\/强|\/发抖|\/怄火|\/转圈|\/磕头|\/回头|\/跳绳|\/投降|\/激动|\/乱舞|\/献吻|\/左太极|\/右太极|\[微笑\]|\[撇嘴\]|\[色\]|\[发呆\]|\[得意\]|\[流泪\]|\[害羞\]|\[闭嘴\]|\[睡\]|\[大哭\]|\[尴尬\]|\[发怒\]|\[调皮\]|\[呲牙\]|\[惊讶\]|\[难过\]|\[酷\]|\[冷汗\]|\[衰\]|\[骷髅\]|\[敲打\]|\[再见\]|\[擦汗\]|\[抠鼻\]|\[鼓掌\]|\[糗大了\]|\[坏笑\]|\[左哼哼\]|\[右哼哼\]|\[哈欠\]|\[鄙视\]|\[委屈\]|\[快哭了\]|\[阴险\]|\[亲亲\]|\[吓\]|\[可怜\]|\[抓狂\]|\[吐\]|\[偷笑\]|\[愉快\]|\[白眼\]|\[傲慢\]|\[饥饿\]|\[困\]|\[惊恐\]|\[流汗\]|\[憨笑\]|\[悠闲\]|\[奋斗\]|\[咒骂\]|\[疑问\]|\[嘘\]|\[晕\]|\[疯了\]|\[篮球\]|\[乒乓\]|\[咖啡\]|\[饭\]|\[猪头\]|\[玫瑰\]|\[调谢\]|\[嘴唇\]|\[爱心\]|\[心碎\]|\[蛋糕\]|\[闪电\]|\[炸弹\]|\[刀\]|\[足球\]|\[瓢虫\]|\[便便\]|\[月亮\]|\[太阳\]|\[礼物\]|\[拥抱\]|\[菜刀\]|\[西瓜\]|\[啤酒\]|\[弱\]|\[握手\]|\[胜利\]|\[抱拳\]|\[勾引\]|\[拳头\]|\[差劲\]|\[爱你\]|\[NO|NO\]|\[OK|OK\]|\[爱情\]|\[飞吻\]|\[跳跳\]|\[强\]|\[发抖\]|\[怄火\]|\[转圈\]|\[磕头\]|\[回头\]|\[跳绳\]|\[投降\]|\[激动\]|\[乱舞\]|\[献吻\]|\[左太极\]|\[右太极\]/,e.exports=i},{}],29:[function(t,e,n){e.exports={"😊":"u1F60A.png","😋":"u1F60B.png","😌":"u1F60C.png","😍":"u1F60D.png","😎":"u1F60E.png","😏":"u1F60F.png","😚":"u1F61A.png","😜":"u1F61C.png","😝":"u1F61D.png","😞":"u1F61E.png","😟":"u1F61F.png","😪":"u1F62A.png","😫":"u1F62B.png","😬":"u1F62C.png","😭":"u1F62D.png","😮":"u1F62E.png","😀":"u1F600.png","😁":"u1F601.png","😂":"u1F602.png","😃":"u1F603.png","😅":"u1F605.png","😆":"u1F606.png","😇":"u1F607.png","😈":"u1F608.png","😉":"u1F609.png","😑":"u1F611.png","😒":"u1F612.png","😓":"u1F613.png","😔":"u1F614.png","😕":"u1F615.png","😖":"u1F616.png","😘":"u1F618.png","😡":"u1F621.png","😢":"u1F622.png","😣":"u1F623.png","😤":"u1F624.png","😨":"u1F628.png","😩":"u1F629.png","😰":"u1F630.png","😱":"u1F631.png","😲":"u1F632.png","😳":"u1F633.png","😴":"u1F634.png","😵":"u1F635.png","😶":"u1F636.png","😷":"u1F637.png","🙈":"u1F648.png","🙉":"u1F649.png","🚀":"u1F680.png","⭐":"u2B50.png","⏰":"u23F0.png","⏳":"u23F3.png","⚡":"u26A1.png","⚽":"u26BD.png","⛄":"u26C4.png","⛅":"u26C5.png","☝":"u261D.png","☺":"u263A.png","✊":"u270A.png","✋":"u270B.png","✌":"u270C.png","✏":"u270F.png","☀":"u2600.png","☁":"u2601.png","☔":"u2614.png","☕":"u2615.png","❄":"u2744.png","🎤":"u1F3A4.png","🎲":"u1F3B2.png","🎵":"u1F3B5.png","🏀":"u1F3C0.png","🏂":"u1F3C2.png","🏡":"u1F3E1.png","🀄":"u1F004.png","💡":"u1F4A1.png","💢":"u1F4A2.png","💣":"u1F4A3.png","💤":"u1F4A4.png","💩":"u1F4A9.png","💪":"u1F4AA.png","💰":"u1F4B0.png","📚":"u1F4DA.png","📞":"u1F4DE.png","📢":"u1F4E2.png","🚫":"u1F6AB.png","🚿":"u1F6BF.png","🌏":"u1F30F.png","🌻":"u1F33B.png","🍚":"u1F35A.png","🍫":"u1F36B.png","🍻":"u1F37B.png","👌":"u1F44C.png","👍":"u1F44D.png","👎":"u1F44E.png","👏":"u1F44F.png","👪":"u1F46A.png","👫":"u1F46B.png","👻":"u1F47B.png","👼":"u1F47C.png","👽":"u1F47D.png","👿":"u1F47F.png","💊":"u1F48A.png","💋":"u1F48B.png","💍":"u1F48D.png","🔫":"u1F52B.png","🙊":"u1F64A.png","🙏":"u1F64F.png","🌙":"u1F319.png","🌲":"u1F332.png","🌹":"u1F339.png","🍉":"u1F349.png","🍖":"u1F356.png","🍦":"u1F366.png","🍷":"u1F377.png","🎁":"u1F381.png","🎂":"u1F382.png","🎄":"u1F384.png","🎉":"u1F389.png","🎓":"u1F393.png","🐴":"u1F434.png","🐶":"u1F436.png","🐷":"u1F437.png","👑":"u1F451.png","💄":"u1F484.png","💔":"u1F494.png","🔥":"u1F525.png","🕖":"u1F556.png","":"u1F600.png","":"u1F637.png","":"u1F602.png","":"u1F61D.png","":"u1F635.png","":"u1F633.png","":"u1F631.png","":"u1F614.png","":"u1F609.png","":"u1F60C.png","":"u1F612.png","":"u1F47F.png","":"u1F47B.png","":"ue437.png","":"u1F64F.png","":"u1F4AA.png","":"u1F4B0.png","":"u1F382.png","":"u1F389.png","":"u1F381.png"}},{}],30:[function(t,e,n){e.exports={"[微笑]":"weixiao","[撇嘴]":"piezui","[色]":"se","[发呆]":"fadai","[得意]":"deyi","[流泪]":"liulei","[害羞]":"haixiu","[闭嘴]":"bizui","[睡]":"shui","[大哭]":"daku","[尴尬]":"ganga","[发怒]":"fanu","[调皮]":"tiaopi","[呲牙]":"ciya","[惊讶]":"jingya","[难过]":"nanguo","[酷]":"ku","[冷汗]":"lenghan","[衰]":"shuai","[骷髅]":"kulou","[敲打]":"qiaoda","[再见]":"zaijian","[擦汗]":"cahan","[抠鼻]":"koubi","[鼓掌]":"guzhang","[糗大了]":"qiudal","[坏笑]":"huaixiao","[左哼哼]":"zuohengheng","[右哼哼]":"youhengheng","[哈欠]":"haqian","[鄙视]":"bishi","[委屈]":"weiqu","[快哭了]":"kuaikul","[阴险]":"yinxian","[亲亲]":"qinqin","[吓]":"xia","[可怜]":"kelian","[抓狂]":"zhuakuang","[吐]":"tu","[偷笑]":"touxiao","[愉快]":"yukuai","[白眼]":"baiyan","[傲慢]":"aoman","[饥饿]":"jie","[困]":"kun","[惊恐]":"jingkong","[流汗]":"liuhan","[憨笑]":"hanxiao","[悠闲]":"youxian","[奋斗]":"fendou","[咒骂]":"zhouma","[疑问]":"yiwen","[嘘]":"xu","[晕]":"yun","[疯了]":"fengl","[篮球]":"lanqiu","[乒乓]":"pingpang","[咖啡]":"kafei","[饭]":"fan","[猪头]":"zhutou","[玫瑰]":"meigui","[调谢]":"diaoxie","[嘴唇]":"zuichun","[爱心]":"aixin","[心碎]":"xinsui","[蛋糕]":"dangao","[闪电]":"shandian","[炸弹]":"zhadan","[刀]":"dao","[足球]":"zuqiu","[瓢虫]":"piaochong","[便便]":"bianbian","[月亮]":"yueliang","[太阳]":"taiyang","[礼物]":"liwu","[拥抱]":"yongbao","[菜刀]":"caidao","[西瓜]":"xigua","[啤酒]":"pijiu","[弱]":"ruo","[握手]":"woshou","[胜利]":"shengli","[抱拳]":"baoquan","[勾引]":"gouyin","[拳头]":"quantou","[差劲]":"chajin","[爱你]":"aini","[NO]":"NO","[OK]":"OK","[爱情]":"aiqing","[飞吻]":"feiwen","[跳跳]":"tiaotiao","[强]":"qiang","[发抖]":"fadou","[怄火]":"ouhuo","[转圈]":"zhuanquan","[磕头]":"ketou","[回头]":"huitou","[跳绳]":"tiaosheng","[投降]":"touxiang","[激动]":"jidong","[乱舞]":"luanwu","[献吻]":"xianwen","[左太极]":"zuotaiji","[右太极]":"youtaiji"}},{}],31:[function(t,e,n){e.exports={"/::)":"weixiao","/::~":"piezui","/::B":"se","/::|":"fadai","/:8-)":"deyi",
"/::<":"liulei","/::$":"haixiu","/::X":"bizui","/::Z":"shui","/::'(":"daku","/::-|":"ganga","/::@":"fanu","/::P":"tiaopi","/::D":"ciya","/::O":"jingya","/::(":"nanguo","/::+":"ku","/:–b":"lenghan","/:,@!":"shuai","/:!!!":"gui","/::Q":"zhuakuang","/::T":"tu","/:,@P":"xiao","/:,@-D":"keai","/::d":"baiyan","/:,@o":"ao","/::g":"e","/:|-)":"lei","/::!":"jingkong","/::L":"han","/::>":"hanxiao","/::,@":"xian","/:,@f":"nuli","/::-S":"ma","/:?":"yiwen","/:,@x":"mimi","/:,@@":"luan","/::8":"feng","/:xx":"daji","/:bye":"zaijian","/:wipe":"cahan","/:dig":"koubi","/:handclap":"guzhang","/:&-(":"qiudal","/:B-)":"huaixiao","/:<@":"zuohengheng","/:@>":"youhengheng","/::-O":"haqian","/:>-|":"bishi","/:P-(":"weiqu","/:X-)":"yinxian","/::'|":"kuaikul","/::*":"qinqin","/:@x":"xia","/:8*":"kelian","/:pd":"caidao","/:<W>":"xigua","/:beer":"pijiu","/:basketb":"lanqiu","/:oo":"pingpang","/:coffee":"kafei","/:eat":"fan","/:pig":"zhutou","/:rose":"meigui","/:fade":"diaoxie","/:showlove":"zuichun","/:heart":"aixin","/:break":"xinsui","/:cake":"dangao","/:li":"shandian","/:bome":"zhadan","/:kn":"dao","/:footb":"zuqiu","/:ladybug":"piaochong","/:shit":"bianbian","/:moon":"yueliang","/:sun":"taiyang","/:gift":"liwu","/:hug":"yongbao","/:strong":"qiang","/:weak":"ruo","/:share":"woshou","/:v":"shengli","/:@)":"baoquan","/:jj":"gouyin","/:@@":"quantou","/:bad":"chajin","/:lvu":"aiqing","/:no":"NO","/:ok":"OK","/:<L>":"feiwen","/:jump":"tiaotiao","/:shake":"fadou","/:<O>":"ouhuo","/:circle":"zhuanquan","/:kotow":"ketou","/:turn":"huitou","/:skip":"tiaosheng","/:oY":"touxiang","/:#-0":"jidong","/:hiphot":"luanwu","/:kiss":"xianwen","/:<&":"zuotaiji","/:&>":"youtaiji","/微笑":"weixiao","/撇嘴":"piezui","/色":"se","/发呆":"fadai","/得意":"deyi","/流泪":"liulei","/害羞":"haixiu","/闭嘴":"bizui","/睡":"shui","/大哭":"daku","/尴尬":"ganga","/发怒":"fanu","/调皮":"tiaopi","/呲牙":"ciya","/惊讶":"jingya","/难过":"nanguo","/酷":"ku","/冷汗":"lenghan","/衰":"shuai","/骷髅":"kulou","/敲打":"qiaoda","/再见":"zaijian","/擦汗":"cahan","/抠鼻":"koubi","/鼓掌":"guzhang","/糗大了":"qiudal","/坏笑":"huaixiao","/左哼哼":"zuohengheng","/右哼哼":"youhengheng","/哈欠":"haqian","/鄙视":"bishi","/委屈":"weiqu","/快哭了":"kuaikul","/阴险":"yinxian","/亲亲":"qinqin","/吓":"xia","/可怜":"kelian","/抓狂":"zhuakuang","/吐":"tu","/偷笑":"touxiao","/愉快":"yukuai","/白眼":"baiyan","/傲慢":"aoman","/饥饿":"jie","/困":"kun","/惊恐":"jingkong","/流汗":"liuhan","/憨笑":"hanxiao","/悠闲":"youxian","/奋斗":"fendou","/咒骂":"zhouma","/疑问":"yiwen","/嘘":"xu","/晕":"yun","/疯了":"fengl","/篮球":"lanqiu","/乒乓":"pingpang","/咖啡":"kafei","/饭":"fan","/猪头":"zhutou","/玫瑰":"meigui","/调谢":"diaoxie","/嘴唇":"zuichun","/爱心":"aixin","/心碎":"xinsui","/蛋糕":"dangao","/闪电":"shandian","/炸弹":"zhadan","/刀":"dao","/足球":"zuqiu","/瓢虫":"piaochong","/便便":"bianbian","/月亮":"yueliang","/太阳":"taiyang","/礼物":"liwu","/拥抱":"yongbao","/菜刀":"caidao","/西瓜":"xigua","/啤酒":"pijiu","/弱":"ruo","/握手":"woshou","/胜利":"shengli","/抱拳":"baoquan","/勾引":"gouyin","/拳头":"quantou","/差劲":"chajin","/爱你":"aini","/NO":"NO","/OK":"OK","/爱情":"aiqing","/飞吻":"feiwen","/跳跳":"tiaotiao","/强":"qiang","/发抖":"fadou","/怄火":"ouhuo","/转圈":"zhuanquan","/磕头":"ketou","/回头":"huitou","/跳绳":"tiaosheng","/投降":"touxiang","/激动":"jidong","/乱舞":"luanwu","/献吻":"xianwen","/左太极":"zuotaiji","/右太极":"youtaiji","[微笑]":"weixiao","[撇嘴]":"piezui","[色]":"se","[发呆]":"fadai","[得意]":"deyi","[流泪]":"liulei","[害羞]":"haixiu","[闭嘴]":"bizui","[睡]":"shui","[大哭]":"daku","[尴尬]":"ganga","[发怒]":"fanu","[调皮]":"tiaopi","[呲牙]":"ciya","[惊讶]":"jingya","[难过]":"nanguo","[酷]":"ku","[冷汗]":"lenghan","[衰]":"shuai","[骷髅]":"kulou","[敲打]":"qiaoda","[再见]":"zaijian","[擦汗]":"cahan","[抠鼻]":"koubi","[鼓掌]":"guzhang","[糗大了]":"qiudal","[坏笑]":"huaixiao","[左哼哼]":"zuohengheng","[右哼哼]":"youhengheng","[哈欠]":"haqian","[鄙视]":"bishi","[委屈]":"weiqu","[快哭了]":"kuaikul","[阴险]":"yinxian","[亲亲]":"qinqin","[吓]":"xia","[可怜]":"kelian","[抓狂]":"zhuakuang","[吐]":"tu","[偷笑]":"touxiao","[愉快]":"yukuai","[白眼]":"baiyan","[傲慢]":"aoman","[饥饿]":"jie","[困]":"kun","[惊恐]":"jingkong","[流汗]":"liuhan","[憨笑]":"hanxiao","[悠闲]":"youxian","[奋斗]":"fendou","[咒骂]":"zhouma","[疑问]":"yiwen","[嘘]":"xu","[晕]":"yun","[疯了]":"fengl","[篮球]":"lanqiu","[乒乓]":"pingpang","[咖啡]":"kafei","[饭]":"fan","[猪头]":"zhutou","[玫瑰]":"meigui","[调谢]":"diaoxie","[嘴唇]":"zuichun","[爱心]":"aixin","[心碎]":"xinsui","[蛋糕]":"dangao","[闪电]":"shandian","[炸弹]":"zhadan","[刀]":"dao","[足球]":"zuqiu","[瓢虫]":"piaochong","[便便]":"bianbian","[月亮]":"yueliang","[太阳]":"taiyang","[礼物]":"liwu","[拥抱]":"yongbao","[菜刀]":"caidao","[西瓜]":"xigua","[啤酒]":"pijiu","[弱]":"ruo","[握手]":"woshou","[胜利]":"shengli","[抱拳]":"baoquan","[勾引]":"gouyin","[拳头]":"quantou","[差劲]":"chajin","[爱你]":"aini","[NO]":"NO","[OK]":"OK","[爱情]":"aiqing","[飞吻]":"feiwen","[跳跳]":"tiaotiao","[强]":"qiang","[发抖]":"fadou","[怄火]":"ouhuo","[转圈]":"zhuanquan","[磕头]":"ketou","[回头]":"huitou","[跳绳]":"tiaosheng","[投降]":"touxiang","[激动]":"jidong","[乱舞]":"luanwu","[献吻]":"xianwen","[左太极]":"zuotaiji","[右太极]":"youtaiji"}},{}],32:[function(t,e,n){var i=t("./promise.js"),a={},o={},s=function(t,e){var e=e||new i;if(o[t])return i.when(function(){var e=o[t],n=new i;return setTimeout(function(){n.resolve(e)},0),n});var e=i.when(function(){return $.ajax({url:t,dataType:"text",type:"get"}).success(function(n){e.resolve(n),o[t]=n}).fail(function(t){e.reject(t)}),e});return e};a.load=s;var u=function(){return a};e.exports=u},{"./promise.js":37}],33:[function(t,e,n){function i(e){var n=t("./dialog"),i=this,a=$.extend({text:"TEXT",info:"",OK:function(t){}},e);n.call(this,a);var o=function(){var e=t("./template.js"),n=doT.template(e.zcAlertTemplate)(a);i.setInner(n)};o()}e.exports=i},{"./dialog":34,"./template.js":35}],34:[function(t,e,n){function i(e){var n,i,a=t("./template.js"),o=this,s=$.extend({okText:"确定",title:"提示",inner:!1,OK:function(){}},e),u=function(){n=$(a.zcShadowLayer);var t=doT.template(a.zcModalOuter)(s);i=$(t)},r=function(t){i.find(".modal-body").append($(t))},d=function(){n.find(".fade.in").animate({opacity:0},300,function(){setTimeout(function(){n.remove()},100)})},l=function(){n.on("click",d),i.on("click",function(t){t.stopPropagation()}),i.delegate(".bootbox-close-button","click",d),i.delegate(".js-cancel-btn","click",function(t){s.cancel&&s.cancel(o),d()}),i.delegate(".js-ok-btn","click",function(t){d(),s.OK&&s.OK(o)})},c=function(){return i[0]},f=function(){l(),n.append(i),$(document.body).append(n),n.find(".fade.in").animate({opacity:1},300)},p=function(){u()};p(),this.getOuter=c,this.setInner=r,this.show=f,this.hide=d}e.exports=i},{"./template.js":35}],35:[function(t,e,n){var i={},a='<div class="zc-shadow-layer"></div>',o='<div class="bootbox  fade in" tabindex="-1" role="dialog" aria-hidden="false" style="display: block;outline:none;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="bootbox-close-button close" data-dismiss="modal" aria-hidden="true">×</button><h4 class="modal-title">{{=it.title || "提示"}}</h4></div><div class="modal-body"></div>{{ if((it.footer !== false) ) { }}<div class="modal-footer"><button class="btn btn-danger js-cancel-btn">{{=it.cancelText || "取消"}}</button><button class="btn btn-success js-ok-btn">{{=it.okText || "确定"}}</button></div>{{ } }}</div></div></div>',s='<div class="modal-alert-content"><p class="large">{{=it.text}}</p><p>{{=it.info}}</p></div>';i.zcAlertTemplate=s,i.zcModalOuter=o,i.zcShadowLayer=a,e.exports=i},{}],36:[function(t,e,n){var i=0,a=1,o=2,s=3,u=4,r=function(t){var e=t.content||t.answer,n=/src=['"](.*?)['"]/;e.indexOf("<img")>=0?(e.indexOf("webchat_img_face")>=0?(t.message_type=i,t.desc="[表情]"):e.indexOf("webchat_img_upload")>=0?(t.message_type=a,t.desc="[图片]"):e.indexOf("<a")&&(